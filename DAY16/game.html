<html>
<head>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.7/dist/css/bootstrap.min.css" rel="stylesheet" crossorigin="anonymous">
  <script>
    var mygames = [
      {id: 1, name: "kabaddi", fav: true},
      {id: 2, name: "cricket", fav: true},
      {id: 3, name: "ludo", fav: false},
    ];

    function listGames() {
      var gameList = document.getElementById("home-tab-pane");
      gameList.innerHTML = "<ul>";
      mygames.forEach(function(game) {
        gameList.innerHTML += "<li>" + game.name +
          (game.fav
            ? " <button onclick='removeFav(" + game.id + ")'>Remove fav</button>"
            : " <button onclick='addFav(" + game.id + ")'>Add to fav</button>"
          ) +
          " <button onclick='delGame(" + game.id + ")'>X</button></li>";
      });
      gameList.innerHTML += "</ul>";
    }

    function addGame() {
      var newGameInput = document.getElementById("newGame");
      var newGameName = newGameInput.value.trim();
      if (newGameName) {
        var newId = mygames.length ? mygames[mygames.length - 1].id + 1 : 1;
        mygames.push({id: newId, name: newGameName, fav: false});
        newGameInput.value = ""; // Clear input field
        listGames(); // Refresh the game list
      } else {
        alert("Please enter a valid game name.");
      }
    }

    function delGame(id) {
      mygames = mygames.filter(function(game) {
        return game.id !== id;
      });
      listGames(); // Refresh the game list
    }

    function addFav(id) {
      mygames.forEach(function(game) {
        if (game.id === id) {
          game.fav = true;
        }
      });
      listGames();
    }

    function removeFav(id) {
      mygames.forEach(function(game) {
        if (game.id === id) {
          game.fav = false;
        }
      });
      listGames();
    }

    function listFavourites() {
      var favList = document.getElementById("contact-tab-pane");
      favList.innerHTML = "<ul>";
      mygames.forEach(function(game) {
        if (game.fav) {
          favList.innerHTML += "<li>" + game.name + "</li>";
        }
      });
      favList.innerHTML += "</ul>";
    }
  </script>
</head>

<body onload="listGames()">
  <div class="container mt-3">
    <h3>My Games</h3>

    <ul class="nav nav-tabs" id="myTab" role="tablist">
      <li class="nav-item" role="presentation">
        <button class="nav-link active" id="home-tab" data-bs-toggle="tab"
          data-bs-target="#home-tab-pane" type="button" role="tab" aria-controls="home-tab-pane"
          aria-selected="true">My Games</button>
      </li>
      <li class="nav-item" role="presentation">
        <button class="nav-link" id="profile-tab" data-bs-toggle="tab"
          data-bs-target="#profile-tab-pane" type="button" role="tab" aria-controls="profile-tab-pane"
          aria-selected="false">Add New Game</button>
      </li>
      <li class="nav-item" role="presentation">
        <button class="nav-link" id="contact-tab" data-bs-toggle="tab"
          data-bs-target="#contact-tab-pane" type="button" role="tab" aria-controls="contact-tab-pane"
          aria-selected="false" onclick="listFavourites()">My Favourites</button>
      </li>
    </ul>

    <div class="tab-content" id="myTabContent">
      <div class="tab-pane fade show active p-3" id="home-tab-pane" role="tabpanel"
        aria-labelledby="home-tab" tabindex="0">
        Game list
      </div>
      <div class="tab-pane fade p-3" id="profile-tab-pane" role="tabpanel"
        aria-labelledby="profile-tab" tabindex="0">
        <h5>Add New Game</h5>
        <input type="text" id="newGame" placeholder="Enter new game" class="form-control w-50 d-inline">
        <button onclick="addGame()" class="btn btn-primary mt-2">Add Game</button>
      </div>
      <div class="tab-pane fade p-3" id="contact-tab-pane" role="tabpanel"
        aria-labelledby="contact-tab" tabindex="0">
        Favourite games will appear here.
      </div>
    </div>
  </div>

  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.7/dist/js/bootstrap.bundle.min.js"
    crossorigin="anonymous"></script>
</body>
</html>
